# ================================================================
# ADMIN SERVICE CONFIGURATION
# ================================================================
# Service-specific configuration for the Admin domain service.
# Copy to .env.admin and update with actual values.
# Inherits from .env.shared for common infrastructure settings.
# ================================================================

# ----------------------------------------------------------------
# Service Configuration
# ----------------------------------------------------------------
SERVICE_NAME=admin-service
SERVER_PORT=8083

# ----------------------------------------------------------------
# Database Schema
# ----------------------------------------------------------------
SPRING_DATASOURCE_SCHEMA=admin_service

# ----------------------------------------------------------------
# Database Migrations
# ----------------------------------------------------------------
FLYWAY_ENABLED=true
FLYWAY_BASELINE_ON_MIGRATE=true
FLYWAY_LOCATIONS=classpath:db/migration

# ----------------------------------------------------------------
# User Management
# ----------------------------------------------------------------
# Default password for new users
DEFAULT_USER_PASSWORD=ChangeMe123!

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL_CHAR=true

# Password expiry (in days, 0 = never)
PASSWORD_EXPIRY_DAYS=90

# Max login attempts before account lock
MAX_LOGIN_ATTEMPTS=5

# Account lock duration (in minutes)
ACCOUNT_LOCK_DURATION_MINUTES=30

# ----------------------------------------------------------------
# Organization Hierarchy
# ----------------------------------------------------------------
# Maximum department nesting level
MAX_DEPARTMENT_LEVEL=5

# ----------------------------------------------------------------
# Role & Permission Management
# ----------------------------------------------------------------
# Built-in roles (comma-separated)
BUILTIN_ROLES=SUPER_ADMIN,ORG_ADMIN,DEPT_MANAGER,EMPLOYEE

# ----------------------------------------------------------------
# Service Integration
# ----------------------------------------------------------------
# Keycloak admin API
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# Flowable engine URL
FLOWABLE_ENGINE_URL=http://localhost:8081

# ----------------------------------------------------------------
# Audit Logging
# ----------------------------------------------------------------
# Enable audit logging for user actions
AUDIT_LOGGING_ENABLED=true

# Audit log retention (in days)
AUDIT_LOG_RETENTION_DAYS=90

# ----------------------------------------------------------------
# Monitoring
# ----------------------------------------------------------------
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,audit
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always

# ----------------------------------------------------------------
# API Documentation
# ----------------------------------------------------------------
SPRINGDOC_API_DOCS_ENABLED=true
SPRINGDOC_SWAGGER_UI_ENABLED=true
SPRINGDOC_SWAGGER_UI_PATH=/swagger-ui.html
