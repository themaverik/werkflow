# ================================================================
# ADMIN PORTAL (WORKFLOW DESIGNER) CONFIGURATION
# ================================================================

# ----------------------------------------------------------------
# Service Configuration
# ----------------------------------------------------------------
NEXT_PUBLIC_APP_NAME=Werkflow Admin Portal
NEXT_PUBLIC_APP_VERSION=1.0.0

# Port for this frontend (Admin Portal)
PORT=4000

# ----------------------------------------------------------------
# Backend API URLs
# ----------------------------------------------------------------
# Flowable Engine Service
# Note: Don't include /api suffix as different endpoints use different paths
# - Werkflow custom APIs use: /werkflow/api/*
# - Flowable built-in APIs use: /api/*
NEXT_PUBLIC_ENGINE_API_URL=http://localhost:8081

# HR Service
NEXT_PUBLIC_HR_API_URL=http://localhost:8082/api

# Admin Service
NEXT_PUBLIC_ADMIN_API_URL=http://localhost:8083/api

# ----------------------------------------------------------------
# NextAuth Configuration
# ----------------------------------------------------------------
NEXTAUTH_URL=http://localhost:4000
NEXTAUTH_SECRET=generate-with-openssl-rand-base64-32

# ----------------------------------------------------------------
# Keycloak Configuration
# ----------------------------------------------------------------
# OAuth2 Client Credentials
KEYCLOAK_CLIENT_ID=werkflow-admin-portal
KEYCLOAK_CLIENT_SECRET=your-client-secret-from-keycloak

# OAuth2 Issuer Configuration (Three-URL Strategy for Docker)
# This strategy solves the Docker networking challenge where:
# - Containers can't reach localhost (refers to container itself)
# - Browsers can't reach internal Docker service names
# - Tokens must be validated against the issuer Keycloak advertises

# KEYCLOAK_ISSUER_INTERNAL: Used for server-side API calls from container
#   - OIDC discovery (.well-known/openid-configuration)
#   - Token exchange endpoint
#   - Userinfo endpoint
# For local development (outside Docker): http://localhost:8090/realms/werkflow
# For Docker containers: http://keycloak:8080/realms/werkflow
KEYCLOAK_ISSUER_INTERNAL=http://localhost:8090/realms/werkflow

# KEYCLOAK_ISSUER_PUBLIC: The issuer claim in tokens (for validation)
#   - Must match what Keycloak returns in token "iss" claim
#   - Keycloak returns this based on KC_HOSTNAME/KC_PROXY config
#   - NextAuth validates tokens against this issuer
# For both local and Docker: http://localhost:8090/realms/werkflow
KEYCLOAK_ISSUER_PUBLIC=http://localhost:8090/realms/werkflow

# KEYCLOAK_ISSUER_BROWSER: Used for OAuth redirects in browser
#   - Authorization endpoint (login page redirect)
#   - Must be accessible from user's browser (not from container)
# For both local and Docker: http://localhost:8090/realms/werkflow
KEYCLOAK_ISSUER_BROWSER=http://localhost:8090/realms/werkflow

# ----------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------
NEXT_PUBLIC_ENABLE_BPMN_DESIGNER=true
NEXT_PUBLIC_ENABLE_FORM_BUILDER=true
NEXT_PUBLIC_ENABLE_PROCESS_MONITORING=true
